import{aK as i,aL as l,k as p,aM as f}from"./index.946ad941.js";import{f as w}from"./index.27a39792.js";import{u as y}from"./vue-i18n.runtime.esm-bundler.fe6c5ac9.js";const n=()=>i({url:l.practices,method:"GET"}),g=({from:e,to:c})=>i({url:l.practices,method:"POST",data:{from:e,to:c}}),a=p({loading:!1,error:null,data:[]}),D=f(()=>[...a.data].sort((e,c)=>e.from-c.from));function v(){const{t:e}=y(),c=()=>{a.loading=!1,a.error=null,a.data=[]},m=async()=>{c(),a.loading=!0;try{const{data:r}=await n();a.data=r.map(t=>({...t,from:new Date(t.from),to:new Date(t.to)}))}catch(r){console.error(r)}finally{a.loading=!1}},d=async({from:r,to:t})=>{a.loading=!0;try{await g({from:r,to:t});const{data:o}=await n();a.data=o.map(s=>({...s,from:new Date(s.from),to:new Date(s.to)}))}catch(o){console.error(o)}finally{a.loading=!1}},u=f(()=>D.value.reduce((r,t)=>{const o=e(w(t.from,"EEEE").toLowerCase());return{...r,[o]:{...r[o],[t.from]:t}}},{}));return{practices:a,create:d,practicesByDate:u,getPractices:m}}export{v as u};
