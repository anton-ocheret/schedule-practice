import{u as f}from"./vue-i18n.runtime.esm-bundler.fe6c5ac9.js";import{r as d,k as q,$ as v,a0 as p,a1 as w,a2 as B,a3 as P,a4 as R}from"./index.946ad941.js";const o=d(null);function L(){const{t:i}=f(),a=()=>{o.value=p()},c=q({loginBadRequest:i("login-400-error")}),g=({email:s,password:t})=>new Promise((e,n)=>{w({email:s,password:t},{errorMessages:{400:c.loginBadRequest}}).then(r=>{a(),e(r)}).catch(r=>n(r))}),l=()=>new Promise((s,t)=>{B({userId:o.value.id}).then(e=>{P(),a(),s(e)}).catch(e=>{t(e)})}),h=({name:s,email:t,password:e,color:n})=>new Promise((r,m)=>{R({name:s,email:t,password:e,color:n}).then(u=>{r(u)}).catch(u=>{m(u)})});return v(()=>{o.value||a()}),{register:h,logout:l,login:g,user:o}}export{L as u};
